
<%= form_with model: @panel_team, class: 'flex flex-col', data: { controller: 'avatar-preview' } do |f| %>
  <div class="flex flex-col m-5">
    <%= f.label :name, class: 'mb-1' %>
    <%= f.text_field :name, class: 'rounded-md p-2 border-2', placeholder: 'Team name' %>
  </div>
  <div class="flex flex-col m-5">
    <%= f.label :logo, class: 'mb-1' %>
    <% has_logo = @panel_team.logo.attached? %>
    <%= f.file_field :logo, class: 'mb-7', accept: 'image/png,image/gif,image/jpeg',
                     'data-avatar-preview-target': 'avatarInput' %>
    <%= image_tag @panel_team.logo&.variant(:medium) || '/', size: '80',
                  class: "rounded-md #{has_logo ? '' : 'hidden'}", 'data-avatar-preview-target': 'avatarImg' %>
    <span class="<%= has_logo ? 'hidden' : '' %>" data-avatar-preview-target="avatarIcon">
      <%= fa_icon 'users 5x' %>
    </span>
  </div>
  <div class="m-5">
    <%= f.button :submit, class: 'border-2 rounded-md bg-green-300 p-2 hover:bg-green-500' %>
  </div>
<% end %>
